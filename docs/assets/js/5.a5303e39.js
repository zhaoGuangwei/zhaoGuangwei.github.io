(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{378:function(s,n,a){s.exports=a.p+"assets/img/structure.f8a466df.png"},379:function(s,n,a){s.exports=a.p+"assets/img/keys.f2d21723.jpeg"},380:function(s,n,a){s.exports=a.p+"assets/img/browser.3a741cbf.jpeg"},399:function(s,n,a){"use strict";a.r(n);var e=a(42),r=Object(e.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"jdchain安装部署指南"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jdchain安装部署指南"}},[s._v("#")]),s._v(" JDChain安装部署指南")]),s._v(" "),e("p",[s._v("本部署指南基于JDChain1.3.0.RELEASE版本来构建。")]),s._v(" "),e("h2",{attrs:{id:"_1-部署环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-部署环境"}},[s._v("#")]),s._v(" 1. 部署环境")]),s._v(" "),e("h3",{attrs:{id:"_1-1-系统部署结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-系统部署结构"}},[s._v("#")]),s._v(" 1.1 系统部署结构")]),s._v(" "),e("p",[e("img",{attrs:{src:a(378),alt:"部署结构"}})]),s._v(" "),e("p",[s._v("JDChain有三类节点：Peer、网关和客户端。peer节点是区块链主节点，参与共识、账本操作等；网关节点（GateWay）与Peer节点通信，负责区块链浏览器及消息传递；客户端与网关通信，可以进行写入或查询账本等操作。")]),s._v(" "),e("p",[s._v("JDChain默认采用Rocksdb作为存储数据库，每个Peer节点与一个（或多个）Rocksdb实例连接，Rocksdb实例的数量与账本相关，不同Peer节点对应不同的Rocksdb实例。")]),s._v(" "),e("p",[s._v("JDChain也支持Redis作为其存储数据库，Redis数据库不必和Peer节点安装在同一服务器，只需要配置正确即可（后面配置会说到）。")]),s._v(" "),e("p",[s._v("JDChain默认共识机制采用的是BFTSmart，该共识算法要求最低四个共识节点，BFTSmart 对作恶节点的支持为：N = 3f+1，即在N个节点共识中可允许f个作恶节点，当节点数增加时可根据该公式进行配置。")]),s._v(" "),e("p",[e("em",[s._v("本安装部署指南以四个节点为例进行说明。")])]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"_1-2-服务器配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-服务器配置"}},[s._v("#")]),s._v(" 1.2 服务器配置")]),s._v(" "),e("h4",{attrs:{id:"_1-2-1-硬件配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-硬件配置"}},[s._v("#")]),s._v(" 1.2.1 硬件配置")]),s._v(" "),e("p",[s._v("为了更好的运行，JDChain推荐使用 "),e("strong",[s._v("Linux")]),s._v(" 操作系统，Peer节点自身运行对内存要求较低（单节点建议Xms>=4g），但对于Rocksdb存储而言，其对运行环境有较高要求，以下为单Peer节点可正常运行  "),e("strong",[s._v("亿级交易")]),s._v(" 的参考指标：")]),s._v(" "),e("ul",[e("li",[s._v("内核2.7.x及以上；")]),s._v(" "),e("li",[s._v("CPU主频 ≥ 2.0GHz；")]),s._v(" "),e("li",[s._v("内存 ≥ 64G；")]),s._v(" "),e("li",[s._v("可用硬盘容量 >= 200G")])]),s._v(" "),e("h4",{attrs:{id:"_1-2-2-软件配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-软件配置"}},[s._v("#")]),s._v(" 1.2.2 软件配置")]),s._v(" "),e("p",[s._v("JDChain使用Java开发，其软件需求如下：")]),s._v(" "),e("ul",[e("li",[s._v("JDK：Version ≥ 1.8。")])]),s._v(" "),e("blockquote",[e("p",[s._v("注意：若数据库使用的Redis，则需要对应数据库服务器安装Redis，Redis版本要求>=3.x。")])]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"_2-系统安装与配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-系统安装与配置"}},[s._v("#")]),s._v(" 2. 系统安装与配置")]),s._v(" "),e("h3",{attrs:{id:"_2-1-安装包结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装包结构"}},[s._v("#")]),s._v(" 2.1 安装包结构")]),s._v(" "),e("p",[s._v("JDChain默认发布的安装包有两个，一个是Peer节点打包程序，一个是Gateway节点打包程序，两者默认都是用tar.gz（或zip）打包的。")]),s._v(" "),e("h4",{attrs:{id:"_2-1-1-peer节点安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-peer节点安装包"}},[s._v("#")]),s._v(" 2.1.1 Peer节点安装包")]),s._v(" "),e("p",[s._v("Peer节点打包程序为：jdchain-peer-$version.tar.gz或jdchain-peer-$version.zip，若是tar.gz压缩文件可通过tar命令解压（如下）：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xzvf jdchain-peer-"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$version")]),s._v(".tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("若是zip文件可通过unzip命令解压（如下）：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" jdchain-peer-"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$version")]),s._v(".zip\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("注意：$version为JDChain发布的版本号")])]),s._v(" "),e("p",[s._v("Peer打包程序解压完后的安装包结构如下：")]),s._v(" "),e("ul",[e("li",[s._v("bin\n"),e("ul",[e("li",[s._v("keygen.sh")]),s._v(" "),e("li",[s._v("ledger-init.sh")]),s._v(" "),e("li",[s._v("peer-startup.sh")]),s._v(" "),e("li",[s._v("peer-shutdown.sh")]),s._v(" "),e("li",[s._v("manager-startup.sh")]),s._v(" "),e("li",[s._v("manager-shutdown.sh")])])]),s._v(" "),e("li",[s._v("config\n"),e("ul",[e("li",[s._v("init\n"),e("ul",[e("li",[s._v("ledger.init")]),s._v(" "),e("li",[s._v("local.conf")]),s._v(" "),e("li",[s._v("bftsmart.config（默认）")])])]),s._v(" "),e("li",[s._v("keys\n"),e("ul",[e("li",[s._v("%.priv")]),s._v(" "),e("li",[s._v("%.pub")]),s._v(" "),e("li",[s._v("%.pwd")])])]),s._v(" "),e("li",[s._v("ledger-binding.conf")])])]),s._v(" "),e("li",[s._v("docs")]),s._v(" "),e("li",[s._v("libs")]),s._v(" "),e("li",[s._v("system")])]),s._v(" "),e("p",[s._v("其中目录说明如下：")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("bin")]),s._v(" ：相关命令操作目录；")]),s._v(" "),e("li",[e("strong",[s._v("config")]),s._v(" ：对应命令的配置目录，keys路径解压时不存在，会在执行keygen.sh脚本时自动创建；ledger-binding.conf文件解压时不存在，会在成功执行ledger-init.sh脚本后生成；")]),s._v(" "),e("li",[e("strong",[s._v("docs")]),s._v(" ：相关文档保存目录；")]),s._v(" "),e("li",[e("strong",[s._v("libs")]),s._v(" ：项目运行依赖第三方及非system依赖包保存路径；")]),s._v(" "),e("li",[e("strong",[s._v("system")]),s._v(" ：项目运行系统包保存路径；")])]),s._v(" "),e("blockquote",[e("p",[s._v("1）注意： "),e("em",[s._v("bin")]),s._v(" 目录下所有的文件都需要可执行权限，在Linux环境下可简单参考如下命令：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd bin\nchmod 777 *\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("2）注意：system文件夹包括运行时系统主要加载的jar文件，为系统安全运行定制，开发者无须关心此项。")])]),s._v(" "),e("h4",{attrs:{id:"_2-1-2-gateway节点安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-gateway节点安装包"}},[s._v("#")]),s._v(" 2.1.2 Gateway节点安装包")]),s._v(" "),e("p",[s._v("Gateway节点打包程序为：jdchain-gateway-$version.tar.gz或jdchain-gateway-$version.zip，其解压完后的安装包结构如下：")]),s._v(" "),e("ul",[e("li",[s._v("bin\n"),e("ul",[e("li",[s._v("startup.sh")]),s._v(" "),e("li",[s._v("shutdown.sh")])])]),s._v(" "),e("li",[s._v("config\n"),e("ul",[e("li",[s._v("gateway.conf")])])]),s._v(" "),e("li",[s._v("lib")])]),s._v(" "),e("p",[s._v("其中目录说明如下：")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("bin")]),s._v(" ：相关命令操作目录；")]),s._v(" "),e("li",[e("strong",[s._v("config")]),s._v(" ：对应命令的配置目录；")]),s._v(" "),e("li",[e("strong",[s._v("lib")]),s._v(" ：gateway运行时所需jar包路径；")])]),s._v(" "),e("h3",{attrs:{id:"_2-2-注册用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-注册用户"}},[s._v("#")]),s._v(" 2.2 注册用户")]),s._v(" "),e("p",[s._v("JDChain以一个 "),e("em",[s._v("密钥对")]),s._v(" 标识一个用户，任何区块链操作都必须有用户的签名信息，因此首先需要创建一个用户。"),e("br"),s._v("\nJDChain提供了创建用户的工具，可直接通过命令行生成一个新用户。切换到bin路径，执行命令：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("./keygen.sh -n jd-com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("其中jd-com是生成的密钥对文件前缀，需自定义。"),e("br"),s._v("\n执行命令过程中需要输入密钥对中 "),e("em",[s._v("私钥")]),s._v(" 加密的密码，并选择是否将该密码编码保存（推荐选择保存，该密码编码会保存至%.pwd文件中）。")]),s._v(" "),e("blockquote",[e("p",[s._v("注意：请妥善保存该密码，切勿丢失！")])]),s._v(" "),e("p",[s._v("执行命令后，该 "),e("em",[s._v("密钥对")]),s._v(" 文件会生成到 "),e("em",[s._v("config/keys")]),s._v(" 路径，如下所示：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(379),alt:"keys"}})]),s._v(" "),e("p",[s._v("其中，jd-com.priv是签名私钥的密文形式内容（以口令哈希作为对称密钥，对签名私钥进行对称加密后的密文数据），jd-com.pub为签名公钥内容，jd-com.pwd是用于加密签名私钥的口令哈希值。")]),s._v(" "),e("blockquote",[e("p",[s._v("注意：%.pwd记录的编码在后续Gateway配置时会用到！")])]),s._v(" "),e("p",[e("strong",[s._v("请将所有Peer节点都按照上述流程注册一个独立的用户，在实际生产环境中该过程可能由不同的参与方完成。")])]),s._v(" "),e("h3",{attrs:{id:"_2-3-账本初始化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-账本初始化"}},[s._v("#")]),s._v(" 2.3 账本初始化")]),s._v(" "),e("p",[s._v("账本初始化是所有参与Peer节点进行共识，并生成初始化账本至数据库的过程。该过程需要所有节点共同参与，"),e("strong",[s._v("同时启动")]),s._v("。")]),s._v(" "),e("h4",{attrs:{id:"_2-3-1-初始化配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-初始化配置"}},[s._v("#")]),s._v(" 2.3.1 初始化配置")]),s._v(" "),e("p",[e("em",[s._v("config/init")]),s._v(" 目录下有三个配置文件需要修改："),e("strong",[s._v("local.conf")]),s._v(" 、 "),e("strong",[s._v("ledger.init")]),s._v(" 和 "),e("strong",[s._v("bftsmart.config")]),s._v(" 。")]),s._v(" "),e("ul",[e("li",[s._v("local.conf描述账本初始化的本地（即当前节点）配置；")]),s._v(" "),e("li",[s._v("ledger.init描述账本初始化过程中涉及到的其他参与Peer节点配置信息;")]),s._v(" "),e("li",[s._v("bftsmart.config为BFTSmart进行共识的相关配置。")])]),s._v(" "),e("h5",{attrs:{id:"_2-3-1-1-local-conf配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-1-local-conf配置"}},[s._v("#")]),s._v(" 2.3.1.1 local.conf配置")]),s._v(" "),e("div",{staticClass:"language-config line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('#当前参与方的 id\nlocal.parti.id=0\n\n#当前参与方的公钥\nlocal.parti.pubkey=endPsK36koyFr1D245Sa9j83vt6pZUdFBJoJRB3xAsWM6cwhRbna\n\n#当前参与方的私钥（密文编码）\nlocal.parti.privkey=177gjsj5PHeCpbAtJE7qnbmhuZMHAEKuMsd45zHkv8F8AWBvTBbff8yRKdCyT3kwrmAjSnY\n\n#当前参与方的私钥解密密钥(原始口令的一次哈希，Base58格式)，如果不设置，则启动过程中需要从控制台输入\nlocal.parti.pwd=DYu3G8aGTMBW1WrTw76zxQJQU4DHLw9MLyy7peG4LKkY\n\n#账本初始化完成后生成的"账本绑定配置文件"的输出目录\nledger.binding.out=../config\n\n#账本数据库的连接字符，下为rocksdb样例\n#rocksdb数据库连接格式：rocksdb://{path}，例如：rocksdb:///export/App08/peer/rocks.db/rocksdb0.db\n#redis数据库连接格式：redis://{ip}:{prot}/{db}，例如：redis://127.0.0.1:6379/0\n#kvdb数据库连接格式：kvdb://{ip}:{prot}/{db}，例如：kvdb://127.0.0.1:7078/test\nledger.db.uri=rocksdb:///export/app/peer/rocks.db/rocksdb0.db\n\n#账本数据库的连接口令\nledger.db.pwd=\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("p",[s._v("其中local.parti.id从 "),e("strong",[s._v("0")]),s._v(" 开始编号，且不同Peer节点不能相同；local.parti.privkey为当前节点私钥，即 "),e("em",[s._v("config/keys/%.priv")]),s._v(" 文件中的内容；其他参数根据实际环境进行配置。")]),s._v(" "),e("h5",{attrs:{id:"_2-3-1-2-ledger-init配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-2-ledger-init配置"}},[s._v("#")]),s._v(" 2.3.1.2 ledger.init配置")]),s._v(" "),e("div",{staticClass:"language-config line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("#账本的种子；一段16进制字符，最长可以包含64个字符；可以用字符“-”分隔，以便更容易读取；\nledger.seed=932dfe23-fe23232f-283f32fa-dd32aa76-8322ca2f-56236cda-7136b322-cb323ffe\n\n#账本的描述名称；此属性不参与共识，仅仅在当前参与方的本地节点用于描述用途；\nledger.name=\n\n#声明的账本创建时间；格式为 “yyyy-MM-dd HH:mm:ss.SSSZ”，表示”年-月-日 时:分:秒:毫秒时区“；例如：“2019-08-01 14:26:58.069+0800”，其中，+0800 表示时区是东8区\ncreated-time=2019-08-01 14:26:58.069+0800\n\n\n#-----------------------------------------------\n# 初始的角色名称列表；可选项；\n# 角色名称不区分大小写，最长不超过20个字符；多个角色名称之间用半角的逗点“,”分隔；\n# 系统会预置一个默认角色“DEFAULT”，所有未指定角色的用户都以赋予该角色的权限；若初始化时未配置默认角色的权限，则为默认角色分配所有权限；\n#\n# 注：如果声明了角色，但未声明角色对应的权限清单，这会忽略该角色的初始化；\n#\n#security.roles=DEFAULT, ADMIN, MANAGER, GUEST\n\n# 赋予角色的账本权限清单；可选项；\n# 可选的权限如下；\n# AUTHORIZE_ROLES, SET_CONSENSUS, SET_CRYPTO, REGISTER_PARTICIPANT,\n# REGISTER_USER, REGISTER_DATA_ACCOUNT, REGISTER_CONTRACT, UPGRADE_CONTRACT, \n# SET_USER_ATTRIBUTES, WRITE_DATA_ACCOUNT, \n# APPROVE_TX, CONSENSUS_TX\n# 多项权限之间用逗点“,”分隔；\n# \n#security.role.DEFAULT.ledger-privileges=REGISTER_USER, REGISTER_DATA_ACCOUNT\n\n# 赋予角色的交易权限清单；可选项；\n# 可选的权限如下；\n# DIRECT_OPERATION, CONTRACT_OPERATION\n# 多项权限之间用逗点“,”分隔；\n#\n#security.role.DEFAULT.tx-privileges=DIRECT_OPERATION, CONTRACT_OPERATION\n\n# 其它角色的配置示例；\n# 系统管理员角色：只能操作全局性的参数配置和用户注册，只能执行直接操作指令；\n#security.role.ADMIN.ledger-privileges=CONFIGURE_ROLES, AUTHORIZE_USER_ROLES, SET_CONSENSUS, SET_CRYPTO, REGISTER_PARTICIPANT, REGISTER_USER\n#security.role.ADMIN.tx-privileges=DIRECT_OPERATION\n\n# 业务主管角色：只能够执行账本数据相关的操作，包括注册用户、注册数据账户、注册合约、升级合约、写入数据等；能够执行直接操作指令和调用合约；\n#security.role.MANAGER.ledger-privileges=CONFIGURE_ROLES, AUTHORIZE_USER_ROLES, REGISTER_USER, REGISTER_DATA_ACCOUNT, REGISTER_CONTRACT, UPGRADE_CONTRACT, SET_USER_ATTRIBUTES, WRITE_DATA_ACCOUNT, \n#security.role.MANAGER.tx-privileges=DIRECT_OPERATION, CONTRACT_OPERATION\n\n# 访客角色：不具备任何的账本权限，只有数据读取的操作；也只能够通过调用合约来读取数据；\n#security.role.GUEST.ledger-privileges=\n#security.role.GUEST.tx-privileges=CONTRACT_OPERATION\n\n\n#-----------------------------------------------\n#共识服务提供者；必须；\nconsensus.service-provider=com.jd.blockchain.consensus.bftsmart.BftsmartConsensusProvider\n\n#共识服务的参数配置；推荐使用绝对路径；必须；\nconsensus.conf=bftsmart.config\n\n#密码服务提供者列表，以英文逗点“,”分隔；必须；\ncrypto.service-providers=com.jd.blockchain.crypto.service.classic.ClassicCryptoService, \\\ncom.jd.blockchain.crypto.service.sm.SMCryptoService\n\n#从存储中加载账本数据时，是否校验哈希；可选；\ncrypto.verify-hash=true\n\n#哈希算法；\ncrypto.hash-algorithm=SHA256\n\n\n#参与方的个数，后续以 cons_parti.id 分别标识每一个参与方的配置；\ncons_parti.count=4\n\n#---------------------\n#第0个参与方的名称；\ncons_parti.0.name=\n#第0个参与方的公钥文件路径；\ncons_parti.0.pubkey-path=\n#第0个参与方的公钥内容（由keygen工具生成）；此参数优先于 pubkey-path 参数；\ncons_parti.0.pubkey=\n\n#第0个参与方的角色清单；可选项；\n#cons_parti.0.roles=ADMIN, MANAGER\n#第0个参与方的角色权限策略，可选值有：UNION（并集），INTERSECT（交集）；可选项；\n#cons_parti.0.roles-policy=UNION\n\n#第0个参与方的账本初始服务的主机；\ncons_parti.0.initializer.host=127.0.0.1\n#第0个参与方的账本初始服务的端口；\ncons_parti.0.initializer.port=8800\n#第0个参与方的账本初始服务是否开启安全连接；\ncons_parti.0.initializer.secure=false\n\n#---------------------\n#第1个参与方的名称；\ncons_parti.1.name=\n#第1个参与方的公钥文件路径；\ncons_parti.1.pubkey-path=\n#第1个参与方的公钥内容（由keygen工具生成）；此参数优先于 pubkey-path 参数；\ncons_parti.1.pubkey=\n\n#第1个参与方的角色清单；可选项；\n#cons_parti.1.roles=MANAGER\n#第1个参与方的角色权限策略，可选值有：UNION（并集），INTERSECT（交集）；可选项；\n#cons_parti.1.roles-policy=UNION\n\n#第1个参与方的账本初始服务的主机；\ncons_parti.1.initializer.host=127.0.0.1\n#第1个参与方的账本初始服务的端口；\ncons_parti.1.initializer.port=8810\n#第1个参与方的账本初始服务是否开启安全连接；\ncons_parti.1.initializer.secure=false\n\n#---------------------\n#第2个参与方的名称；\ncons_parti.2.name=\n#第2个参与方的公钥文件路径；\ncons_parti.2.pubkey-path=\n#第2个参与方的公钥内容（由keygen工具生成）；此参数优先于 pubkey-path 参数；\ncons_parti.2.pubkey=\n\n#第2个参与方的角色清单；可选项；\n#cons_parti.2.roles=MANAGER\n#第2个参与方的角色权限策略，可选值有：UNION（并集），INTERSECT（交集）；可选项；\n#cons_parti.2.roles-policy=UNION\n\n#第2个参与方的账本初始服务的主机；\ncons_parti.2.initializer.host=127.0.0.1\n#第2个参与方的账本初始服务的端口；\ncons_parti.2.initializer.port=8820\n#第2个参与方的账本初始服务是否开启安全连接；\ncons_parti.2.initializer.secure=false\n\n#---------------------\n#第3个参与方的名称；\ncons_parti.3.name=\n#第3个参与方的公钥文件路径；\ncons_parti.3.pubkey-path=\n#第3个参与方的公钥内容（由keygen工具生成）；此参数优先于 pubkey-path 参数；\ncons_parti.3.pubkey=\n\n#第3个参与方的角色清单；可选项；\n#cons_parti.3.roles=GUEST\n#第3个参与方的角色权限策略，可选值有：UNION（并集），INTERSECT（交集）；可选项；\n#cons_parti.3.roles-policy=INTERSECT\n\n#第3个参与方的账本初始服务的主机；\ncons_parti.3.initializer.host=127.0.0.1\n#第3个参与方的账本初始服务的端口；\ncons_parti.3.initializer.port=8830\n#第3个参与方的账本初始服务是否开启安全连接；\ncons_parti.3.initializer.secure=false\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br"),e("span",{staticClass:"line-number"},[s._v("68")]),e("br"),e("span",{staticClass:"line-number"},[s._v("69")]),e("br"),e("span",{staticClass:"line-number"},[s._v("70")]),e("br"),e("span",{staticClass:"line-number"},[s._v("71")]),e("br"),e("span",{staticClass:"line-number"},[s._v("72")]),e("br"),e("span",{staticClass:"line-number"},[s._v("73")]),e("br"),e("span",{staticClass:"line-number"},[s._v("74")]),e("br"),e("span",{staticClass:"line-number"},[s._v("75")]),e("br"),e("span",{staticClass:"line-number"},[s._v("76")]),e("br"),e("span",{staticClass:"line-number"},[s._v("77")]),e("br"),e("span",{staticClass:"line-number"},[s._v("78")]),e("br"),e("span",{staticClass:"line-number"},[s._v("79")]),e("br"),e("span",{staticClass:"line-number"},[s._v("80")]),e("br"),e("span",{staticClass:"line-number"},[s._v("81")]),e("br"),e("span",{staticClass:"line-number"},[s._v("82")]),e("br"),e("span",{staticClass:"line-number"},[s._v("83")]),e("br"),e("span",{staticClass:"line-number"},[s._v("84")]),e("br"),e("span",{staticClass:"line-number"},[s._v("85")]),e("br"),e("span",{staticClass:"line-number"},[s._v("86")]),e("br"),e("span",{staticClass:"line-number"},[s._v("87")]),e("br"),e("span",{staticClass:"line-number"},[s._v("88")]),e("br"),e("span",{staticClass:"line-number"},[s._v("89")]),e("br"),e("span",{staticClass:"line-number"},[s._v("90")]),e("br"),e("span",{staticClass:"line-number"},[s._v("91")]),e("br"),e("span",{staticClass:"line-number"},[s._v("92")]),e("br"),e("span",{staticClass:"line-number"},[s._v("93")]),e("br"),e("span",{staticClass:"line-number"},[s._v("94")]),e("br"),e("span",{staticClass:"line-number"},[s._v("95")]),e("br"),e("span",{staticClass:"line-number"},[s._v("96")]),e("br"),e("span",{staticClass:"line-number"},[s._v("97")]),e("br"),e("span",{staticClass:"line-number"},[s._v("98")]),e("br"),e("span",{staticClass:"line-number"},[s._v("99")]),e("br"),e("span",{staticClass:"line-number"},[s._v("100")]),e("br"),e("span",{staticClass:"line-number"},[s._v("101")]),e("br"),e("span",{staticClass:"line-number"},[s._v("102")]),e("br"),e("span",{staticClass:"line-number"},[s._v("103")]),e("br"),e("span",{staticClass:"line-number"},[s._v("104")]),e("br"),e("span",{staticClass:"line-number"},[s._v("105")]),e("br"),e("span",{staticClass:"line-number"},[s._v("106")]),e("br"),e("span",{staticClass:"line-number"},[s._v("107")]),e("br"),e("span",{staticClass:"line-number"},[s._v("108")]),e("br"),e("span",{staticClass:"line-number"},[s._v("109")]),e("br"),e("span",{staticClass:"line-number"},[s._v("110")]),e("br"),e("span",{staticClass:"line-number"},[s._v("111")]),e("br"),e("span",{staticClass:"line-number"},[s._v("112")]),e("br"),e("span",{staticClass:"line-number"},[s._v("113")]),e("br"),e("span",{staticClass:"line-number"},[s._v("114")]),e("br"),e("span",{staticClass:"line-number"},[s._v("115")]),e("br"),e("span",{staticClass:"line-number"},[s._v("116")]),e("br"),e("span",{staticClass:"line-number"},[s._v("117")]),e("br"),e("span",{staticClass:"line-number"},[s._v("118")]),e("br"),e("span",{staticClass:"line-number"},[s._v("119")]),e("br"),e("span",{staticClass:"line-number"},[s._v("120")]),e("br"),e("span",{staticClass:"line-number"},[s._v("121")]),e("br"),e("span",{staticClass:"line-number"},[s._v("122")]),e("br"),e("span",{staticClass:"line-number"},[s._v("123")]),e("br"),e("span",{staticClass:"line-number"},[s._v("124")]),e("br"),e("span",{staticClass:"line-number"},[s._v("125")]),e("br"),e("span",{staticClass:"line-number"},[s._v("126")]),e("br"),e("span",{staticClass:"line-number"},[s._v("127")]),e("br"),e("span",{staticClass:"line-number"},[s._v("128")]),e("br"),e("span",{staticClass:"line-number"},[s._v("129")]),e("br"),e("span",{staticClass:"line-number"},[s._v("130")]),e("br"),e("span",{staticClass:"line-number"},[s._v("131")]),e("br"),e("span",{staticClass:"line-number"},[s._v("132")]),e("br"),e("span",{staticClass:"line-number"},[s._v("133")]),e("br"),e("span",{staticClass:"line-number"},[s._v("134")]),e("br"),e("span",{staticClass:"line-number"},[s._v("135")]),e("br"),e("span",{staticClass:"line-number"},[s._v("136")]),e("br"),e("span",{staticClass:"line-number"},[s._v("137")]),e("br"),e("span",{staticClass:"line-number"},[s._v("138")]),e("br"),e("span",{staticClass:"line-number"},[s._v("139")]),e("br"),e("span",{staticClass:"line-number"},[s._v("140")]),e("br"),e("span",{staticClass:"line-number"},[s._v("141")]),e("br"),e("span",{staticClass:"line-number"},[s._v("142")]),e("br"),e("span",{staticClass:"line-number"},[s._v("143")]),e("br"),e("span",{staticClass:"line-number"},[s._v("144")]),e("br"),e("span",{staticClass:"line-number"},[s._v("145")]),e("br"),e("span",{staticClass:"line-number"},[s._v("146")]),e("br"),e("span",{staticClass:"line-number"},[s._v("147")]),e("br"),e("span",{staticClass:"line-number"},[s._v("148")]),e("br"),e("span",{staticClass:"line-number"},[s._v("149")]),e("br"),e("span",{staticClass:"line-number"},[s._v("150")]),e("br")])]),e("p",[s._v("账本初始化过程中，需要其他Peer节点的公钥信息进行验证及保存，因此每个节点都需要获取其他Peer节点的公钥信息至本地。配置中cons_parti.N.*****中的N需按照实际每个参与方定义的序号配置（该配置为local.conf中的local.parti.id）。其他参数根据实际环境进行配置。")]),s._v(" "),e("blockquote",[e("p",[s._v("注意：上述config中只显示了两个参与方（Peer节点）的配置信息，其他参与方（默认是4个节点）的配置方式一致！")])]),s._v(" "),e("h5",{attrs:{id:"_2-3-1-3-bftsmart-config配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-3-bftsmart-config配置"}},[s._v("#")]),s._v(" 2.3.1.3 bftsmart.config配置")]),s._v(" "),e("div",{staticClass:"language-config line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("system.server.0.network.host=127.0.0.1\nsystem.server.0.network.port=16000\n\nsystem.server.1.network.host=127.0.0.1\nsystem.server.1.network.port=16010\n\nsystem.servers.num = 4\n\nsystem.servers.f = 1\n\nsystem.initial.view = 0,1,2,3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("blockquote",[e("p",[s._v("注意：上述只是将bftsmart.config文件中主要需要修改的参数显示，以方便进行相关说明，其他参数的修改可参考具体文件中的具体说明")])]),s._v(" "),e("p",[s._v("参数具体说明如下：")]),s._v(" "),e("ul",[e("li",[s._v("system.server.$n.network.host：第n个节点的域名；")]),s._v(" "),e("li",[s._v("system.server.$n.network.port：第n个节点的共识端口；")]),s._v(" "),e("li",[s._v("system.servers.num：共识节点总数；")]),s._v(" "),e("li",[s._v("system.servers.f：共识节点最大支持的作恶节点数；")]),s._v(" "),e("li",[s._v("system.initial.view：为每个共识节点分配的viewID，每个viewID之间使用英文逗号分隔，viewID不允许重复，且viewID总数需要和system.servers.num一致。")])]),s._v(" "),e("h4",{attrs:{id:"_2-3-2-初始化部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-初始化部署"}},[s._v("#")]),s._v(" 2.3.2 初始化部署")]),s._v(" "),e("p",[s._v("按照 "),e("em",[s._v("2.3.1章节")]),s._v(" 配置完成后，只需要启动ledger-init.sh即可，可参考如下命令：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" bin\n./ledger-init.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("执行命令之后，控制台会显示如下类似信息：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("------ Web controller of Ledger Initializer[127.0.0.1:30010] was started. ------\n\nInit settings and sign permision...\n[PERMISSION_READY] Ledger init permission has already prepared! Any key to continue...\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("然后需要依次启动剩余节点的初始化脚本（"),e("em",[s._v("ledger-init.sh")]),s._v("），根据提示按任意键继续。"),e("br"),s._v("\n如果其它节点没有准备好，控制台会展示“Connection refused”异常信息,不断进行重试操作。目前默认设置为重试180次操作，每次间隔时间10秒。"),e("br"),s._v("\n执行成功后会在 "),e("em",[s._v("config")]),s._v(" 目录下生成ledger-binding.conf文件，该文件即账本初始化生成的文件，Peer节点启动时需要依赖该文件。")]),s._v(" "),e("blockquote",[e("p",[s._v("1）注意：因为JDChain支持多账本形式，若config/ledger-binding.conf文件在初始化之前就存在的话，初始化操作后不会覆盖其中的内容，会以追加的方式写入。若第一次创建账本，建议先将该文件删除再进行初始化！")])]),s._v(" "),e("blockquote",[e("p",[s._v("2）注意：Peer节点会定时检测ledger-binding.conf，有新账本加入时会自动进行更新，不需要重启Peer节点！目前默认时间每隔5秒钟自动更新；")])]),s._v(" "),e("p",[s._v("账本初始化成功后，每个Peer节点对应的Rocksdb都会写入该账本相关的数据。")]),s._v(" "),e("h3",{attrs:{id:"_2-4-peer节点安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-peer节点安装"}},[s._v("#")]),s._v(" 2.4 Peer节点安装")]),s._v(" "),e("p",[s._v("Peer节点启动依赖于 "),e("em",[s._v("config")]),s._v(" 目录下ledger-binding.conf的配置，该文件由 "),e("em",[s._v("2.3章节")]),s._v(" 操作生成，无须做任何修改。")]),s._v(" "),e("p",[s._v("由于Peer节点启动后会自动与其他参与节点进行通信，因此需要同时启动4个Peer节点，只需要执行startup.sh即可，参考命令：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" bin\n./peer-startup.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("1）注意：startup.sh命令中可修改启动端口，默认为：-p 7080；")])]),s._v(" "),e("blockquote",[e("p",[s._v("2）注意：Peer节点会与账本中涉及到的参与方进行通信，当通信不成功（例如有节点尚未启动）时，会自动进行重试，因此多个Peer节点启动可不必完全同时进行。目前默认设置为重试601次操作，每次间隔时间3秒。")])]),s._v(" "),e("h3",{attrs:{id:"_2-5-gateway节点安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-gateway节点安装"}},[s._v("#")]),s._v(" 2.5 Gateway节点安装")]),s._v(" "),e("p",[s._v("GateWay（网关）节点可以认为是一个过滤节点，交易的提交及账本的查询都需要通过网关节点与Peer节点进行通信。\nGateway程序可独立部署，不需要依赖Peer节点，它的操作环境是 "),e("em",[s._v("2.1.2章节")]),s._v(" 中解压后的环境，网关节点启动依赖于配置文件 "),e("em",[s._v("config/gateway.conf")]),s._v("。")]),s._v(" "),e("div",{staticClass:"language-config line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("#网关的HTTP服务地址；\nhttp.host=0.0.0.0\n#网关的HTTP服务端口；\nhttp.port=8081\n#网关的HTTP服务上下文路径，可选；\n#http.context-path=\n\n#共识节点的服务地址；\npeer.host=127.0.0.1\n#共识节点的服务端口；\npeer.port=7080\n#共识节点的服务是否启用安全证书；\npeer.secure=false\n#共识节点的服务提供解析器\npeer.providers=com.jd.blockchain.consensus.bftsmart.BftsmartConsensusProvider\n\n#数据检索服务对应URL\n#若该值不配置或配置不正确，则浏览器模糊查询部分无法正常显示\ndata.retrieval.url=http://192.168.151.39:10001\n\n#默认公钥的内容（Base58编码数据）；\nkeys.default.pubkey=\n#默认私钥的路径；在 pk-path 和 pk 之间必须设置其一；\nkeys.default.privkey-path=\n#默认私钥的内容（加密的Base58编码数据）；在 pk-path 和 pk 之间必须设置其一；\nkeys.default.privkey=\n#默认私钥的解码密码；\nkeys.default.privkey-password=\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br")])]),e("p",[s._v("其中keys.default.% 配置是网关的角色配置，目前暂不支持网关自定义角色，因此，网关可选择4个参与方的任何一个作为其配置（主要是密钥对）。")]),s._v(" "),e("blockquote",[e("p",[s._v("注意：keys.default.privkey-password填写内容为"),e("em",[s._v("2.2章节")]),s._v("中生成的%.pwd文件中的内容！")])]),s._v(" "),e("p",[s._v("启动网关节点只需要执行：startup.sh即可，参考命令：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" bin\n./startup.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("网关节点启动成功后，可通过访问区块链浏览器获取其账本相关信息：http://[ip]:[port]\n下图为区块链浏览器首页，可供参考：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(380),alt:"区块链浏览器"}})]),s._v(" "),e("blockquote",[e("p",[s._v("注意：JDChain网关节点默认自带区块链浏览器！！！")])])])}),[],!1,null,null,null);n.default=r.exports}}]);